---
title: "Exploring the Shadows of Terror: The Influence of Terrorism on Public Opinion and Democratic Values"
author: 
  - Sinan Ma
  - Yuean Wang
  - Yang Zhou
thanks: "Code and data are available at: https://github.com/Sinanma/Terrorism_And_Citizens-_Political_Attitudes. Replication on Social Science Reproduction platform available at: "
date: today
date-format: long
abstract: "In an era where terrorism intersects with global politics, understanding its repercussions on public attitudes towards democracy is crucial. This paper replicates and extends the data analysis of effects of terrorism on public political opinion, considers various expressions of terrorism and a variety of research methodologies by analyzing findings from previous research. Our findings indicate that terrorism leads to an increase in outgroup hostility and a shift towards political conservatism, and observes variations in rally-'round-the-flag effects. These reactions are influenced by the nature of the terrorist threat and the sociopolitical context. Through this exploration, this paper contributes to the ongoing discourse on the implications of terrorism for democratic societies."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r setup}
#| echo: false
#| warning: false
#| message: false

library(tidyverse)
library(readxl)
library(ggplot2)
library(ggpubr)
library(dplyr)
library(psych)
library(patchwork)
```


# Introduction

As we entered the 21st century, terrorism has emerged as a central concern in global politics, influencing international relations and shaping the societal landscape across the world. This phenomenon has not only reshaped diplomatic engagements but also transformed societal dynamics on a global scale which prompts a critical examination of terrorism's broader implications, particularly its impact on public attitudes towards democracy. In an with regular occurrence of terrorist incidents, the impact of terrorism on public opinion has emerged as a critical area of research, bringing up attention to how incidents of terrorism reshape public attitudes towards outgroup hostility, political conservatism, and national unity.

Building upon this foundation, our study aims to replicate and extend the analysis by *Amélie Godefroidt* in 2022, published in American Journal of Political Science [@Godefroidt202], which highlighted the significant impact of various forms of terrorism on public attitudes, from local insurgencies to global campaigns.

This paper delves into the complex dynamics of terrorism's influence on public political opinion. It extends the discourse beyond conventional analysis to explore how various expressions of terrorism—ranging from domestic to international incidents—affect public attitudes, with a particular focus on outgroup hostility, political conservatism, and rally-'round-the-flag phenomena. Despite a growing body of research in this field, there remains a significant gap in understanding the holistic and nuanced effects of different forms of terrorism across diverse sociopolitical contexts. To address this gap, we systematically analyze and integrate findings from prior research, employing a variety of methodological approaches to offer a comprehensive overview of terrorism's impact on public sentiment.

Our investigation reveals that terrorism indeed prompts significant shifts in public opinion, leading to an increase in outgroup hostility and a tilt towards political conservatism, alongside observable variations in national unity rallying effects. These reactions are found to be deeply influenced by the nature of the terrorist threat and the specific sociopolitical context in which they occur. The findings underscore the critical role of context in shaping public responses to terrorism, highlighting the importance of considering the diversity of terrorism expressions and the sociopolitical landscape when evaluating its impact.

This research contributes to the ongoing dialogue on the implications of terrorism for democratic societies by providing empirical evidence of terrorism's subtle yet significant influence on public political attitudes. By shedding light on the conditions under which terrorism most profoundly affects public sentiment, this paper aims to inform policymakers and scholars alike, guiding the development of strategies that bolster democratic resilience in the face of terror. This paper is organized as follows: an overview of the methodological framework used in our analysis, a presentation of the findings, a discussion contextualizing these results within the broader implications for democracy, and concluding remarks that suggest directions for future research and policy considerations.





# Data {#sec-data}

## Source
Our study is based on a detailed examination by Amélie Godefroidt published in 2022 in the American Journal of Political Science. This important research looks into how terrorism affects what people think about democracy and politics, using a wide range of examples from small local attacks to large international ones. We aim to do more research based on Godefroidt's work, using her collection of data from 241 papers, which cover 326 studies and provide 1,733 measurements of how terrorism influences people's political views. This collection of information, gathered through careful research and organization, is the main resource for our study as we explore the complex effects of terrorism in different settings around the world.

## Methodology
Our approach to expanding on the original study involves a detailed process known as meta-analysis. This means we take a closer look at a bunch of studies already done on how terrorism changes people's opinions and combine their results to get a clearer picture. Following the steps outlined by Godefroidt, we gather, sort out, and examine data from various sources, focusing on 1,733 data points that show the relationship between terrorism and public opinion. We make sure all these points can be compared fairly by converting them into a standard format and adjusting them so they all point in the same direction. This makes our analysis strong and trustworthy. We also add new studies to the mix and use more sophisticated statistical methods to handle the data better, aiming to deepen our understanding of terrorism's impact on how people feel about democracy, strangers, and political beliefs in different parts of the world.


Some of our data is of penguins (@fig-bills), from @palmerpenguins.

```{r}
#| label: fig-bills
#| fig-cap: Bills of penguins
#| echo: false


```

Talk more about it.

And also planes (@fig-planes). (You can change the height and width, but don't worry about doing that until you have finished every other aspect of the paper - Quarto will try to make it look nice and the defaults usually work well once you have enough text.)

```{r}
#| label: fig-planes
#| fig-cap: Relationship between wing length and width
#| echo: false
#| warning: false
#| message: false


```

Talk way more about it. 



# Results
```{r fig.width=15, fig.height=16}
#| echo: false
#| warning: false
#| message: false

# make sure the PATH is right in your setup
# since paper.qmd is under outputs/paper/ folder, we have to jump to parent dir twice
PATH = "../../inputs/data/02-metaanalysis-data.xlsx"


dat <- read_excel(PATH, sheet = "Data",  col_names = TRUE, skip = 3)
dat_studies <- dat[c(1:87)] #studies.
dat_studies <- group_by(dat_studies, ID_RS) %>% slice(1)

### dataframe of reports
dat_reports <- dat[c(1:87)] #reports/publications.
dat_reports <- group_by(dat_reports, ID_R) %>% slice(1)


### set wished layout settings
mytheme <- theme(plot.title = element_text(face = "bold", size = (22), colour = "black"), 
                 axis.text = element_text(size = (18), colour = "black"),
                 axis.ticks.length = unit(0.5, "cm"),
                 axis.title.y = element_text(size = (22), colour = "black"),
                 axis.title.x = element_text(size = (22), colour = "white"))


# Figure 2A
StudyYear <- ggplot(dat_studies, aes(x=StudyYear)) + 
  geom_histogram(binwidth=1,
                 color="#000000", fill="#939598") +
  labs(x="to fill some space", y = "", title = "Year of Data Collection") +
  scale_y_continuous(breaks = c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45)) +
  scale_x_continuous(breaks = c(1985,1990,1995,2000,2005,2010, 2015,2020)) +
  theme_classic() #histogram year of study 
StudyYear <- StudyYear + geom_vline(xintercept=2001, linetype="dashed", size = 1) #add 9/11 line
StudyYear <- StudyYear + geom_vline(xintercept=2004, linetype="dashed", size = 1) #add line
StudyYear <- StudyYear + geom_vline(xintercept=2015, linetype="dashed", size = 1) #add ISIS line
StudyYear <- StudyYear + geom_label(data = dat_studies, 
                                    aes(x=2001, y=27, label = "9/11"),
                                    size=8) #add 9/11 label
StudyYear <- StudyYear + geom_label(data = dat_studies, 
                                    aes(x=2007, y=35, label = "Madrid & \n Israel-Palestine"),
                                    size=6) #add label
StudyYear <- StudyYear + geom_label(data = dat_studies, 
                                    aes(x=2014, y=44, label = "IS Attacks"),
                                    size=8) #add ISIS label
StudyYear <- StudyYear + mytheme

## Figure 2B
PubYear <- ggplot(dat_reports, aes(x=Year)) + 
  geom_histogram(binwidth=1, 
                 color="#000000", fill="#939598") +
  labs(title ="Year of Publication", x = "to fill some space", y = "") +
  scale_y_continuous(breaks = c(0, 5, 10, 15, 20, 25, 30, 35, 40, 45)) +
  scale_x_continuous(breaks = c(1985,1990,1995,2000,2005,2010, 2015,2020)) +
  theme_classic() #histogram year of study 
PubYear <- PubYear + geom_vline(xintercept=2001, linetype="dashed", size = 1) #add 9/11 line
PubYear <- PubYear + geom_vline(xintercept=2015, linetype="dashed", size = 1) #add ISIS France line
PubYear <- PubYear + geom_label(data = dat_reports,
                                aes(x=2001, y=27, label = "9/11"),
                                size=8) #add 9/11 label
PubYear <- PubYear + geom_label(data = dat_reports, 
                                aes(x=2014, y=44, label = "IS Attacks"),
                                size=8) #add ISIS label
PubYear <- PubYear + mytheme

# wrangling
dat$TerrorMeasure[dat$IV_Code==1] <- "Acts of violence"
dat$TerrorMeasure[dat$IV_Code==2] <- "Acts of violence"
dat$TerrorMeasure[dat$IV_Code==3] <- "Threat"
dat$TerrorMeasure[dat$IV_Code==4] <- "Threat"
dat$TerrorMeasure[dat$IV_Code==5] <- "Other"
dat$TerrorMeasure[dat$IV_Code==6] <- "Reported exposure"
dat$TerrorMeasure[dat$IV_Code==7] <- "Reported exposure"
dat$TerrorMeasure[dat$IV_Code==8] <- "Reported exposure"
dat$TerrorMeasure[dat$IV_Code==9] <- "Threat"
dat$TerrorMeasure[dat$IV_Code==10] <- "Threat"
dat$TerrorMeasure[dat$IV_Code==11] <- "Fear"
dat$TerrorMeasure[dat$IV_Code==12] <- "Anger"
dat$TerrorMeasure[dat$IV_Code==13] <- "Other"
dat$TerrorMeasure[dat$IV_Code==14] <- "Other"
dat$TerrorMeasure[dat$IV_Code==15] <- "Other"
dat$TerrorMeasure[dat$IV_Code==16] <- "Other"

dat$TerrorMeasure <- as.factor(dat$TerrorMeasure)

#visualization: Figure 2C
tmdat <- data.frame(prop.table(table(dat$TerrorMeasure)))
TerrorMeasures <- ggplot(tmdat, aes(x = reorder(Var1, -Freq), y = Freq)) +
  geom_bar(stat="identity", width=0.7,
           color="#000000", fill="#939598") +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 10)) +
  scale_y_continuous(labels = scales::percent,
                     limits = c(0,.6),
                     breaks = c(0,.1,.2,.3,.4,.5,.6)) +
  labs(title = "Terrorism Measures", x="", y = "") +
  theme_classic() 
TerrorMeasures <- TerrorMeasures + mytheme

#wrangling
dat$TerrorType[dat$Type==0] <- "No ideology"
dat$TerrorType[dat$Type==1] <- "Islamist"
dat$TerrorType[dat$Type==2] <- "Extreme right"
dat$TerrorType[dat$Type==3] <- "Other"
dat$TerrorType[dat$Type==4] <- "Other"
dat$TerrorType[dat$Type==5] <- "State terror"
dat$TerrorType[dat$Type==6] <- "Other"
dat$TerrorType <- as.factor(dat$TerrorType)

#visualization: Figure 2D
ttdat <- data.frame(prop.table(table(dat$TerrorType)))
TerrorType <- ggplot(ttdat, aes(x = reorder(Var1, -Freq), y = Freq)) +
  geom_bar(stat="identity", width=0.7,
           color="#000000", fill="#939598") +
  scale_x_discrete(labels = function(x) str_wrap(x, width = 10)) +
  scale_y_continuous(labels = scales::percent,
                     breaks = c(0,.1,.2,.3,.4,.5,.6)) +
  labs(title = "Type of Terrorism", x = "", y = "") +
  theme_classic() 
TerrorType <- TerrorType + mytheme


# jpeg("Fig2.jpeg", width = 15, height = 16, units = 'in', res = 300)
ggarrange(StudyYear, PubYear, 
          TerrorMeasures, TerrorType,
          labels = c("(A)", "(B)", "(C)", "(D)"),
          font.label = list(size = 22, color = "black"),
          ncol = 2, nrow = 2) #arrange all plots
# dev.off() #safe picture in high resolution.

# 
# StudyYear <- StudyYear + theme(aspect.ratio = 1) + theme(axis.text.x = element_text(size = 5))
# PubYear <- PubYear + theme(aspect.ratio = 1) + theme(axis.text.x = element_text(size = 5))
# TerrorMeasures <- TerrorMeasures + theme(aspect.ratio = 1) + theme(axis.text.x = element_text(size = 5))
# TerrorType <- TerrorType + theme(aspect.ratio = 1) + theme(axis.text.x = element_text(size = 5))
# 
# # Combine the plots into a 2x2 grid
# combined_plot <- (StudyYear | PubYear) / 
#                  (TerrorMeasures | TerrorType)
# 
# # Save the combined plot
# # ggsave("combined_plot.png", combined_plot, width = 10, height = 10)
# combined_plot
```



# Model

The goal of our modelling strategy is twofold. Firstly,...

Here we briefly describe the Bayesian analysis model used to investigate... Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model set-up

Define $y_i$ as the number of seconds that the plane remained aloft. Then $\beta_i$ is the wing width and $\gamma_i$ is the wing length, both measured in millimeters.  

\begin{align} 
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \alpha + \beta_i + \gamma_i\\
\alpha &\sim \mbox{Normal}(0, 2.5) \\
\beta &\sim \mbox{Normal}(0, 2.5) \\
\gamma &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1)
\end{align}

We run the model in R [@citeR] using the `rstanarm` package of @rstanarm. We use the default priors from `rstanarm`.


### Model justification

We expect a positive relationship between the size of the wings and time spent aloft. In particular...

We can use maths by including latex between dollar signs, for instance $\theta$.


# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

```

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false


```




# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 2
#| fig-cap: "Examining how the model fits, and is affected by, the data"
#| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"]


```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2


```



\newpage


# References


